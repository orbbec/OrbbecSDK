<?xml version="1.0" encoding="UTF-8"?>
<Config>
    <!-- Configuration file standard version. If you are not an SDK developer, please do not modify
    it, otherwise the configuration function may fail. -->
    <ConfigStandardVersion>1.1</ConfigStandardVersion>

    <Log>
        <!-- Log output level, int type, optional values: 0-DEBUG, 1-INFO, 2-WARN, 3-ERROR, 4-FATAL,
        5-OFF -->
        <!-- File log output level -->
        <FileLogLevel>5</FileLogLevel>
        <!-- Console log output level -->
        <ConsoleLogLevel>3</ConsoleLogLevel>
        <!-- Default log output file path, string type. If this item is not configured, the default
        path will be used: Win/Linux: "./Log"; Android: "/sdcard/orbbec/Log" -->
        <!-- <OutputDir>./log</OutputDir> -->
        <!-- Default log output file size, int type, unit: MB -->
        <MaxFileSize>100</MaxFileSize>
        <!-- Default log output file number (circular overwrite), int type -->
        <MaxFileNum>3</MaxFileNum>
        <!-- Log asynchronous output, changing to asynchronous output can reduce the blocking time
        of printing logs, but some logs may be lost when the program exits abnormally; true-enable,
        false-disable (default) -->
        <Async>false</Async>
    </Log>

    <Memory>
        <!-- Enable memory pool to reuse frame memory, avoid frequent memory allocation and release.
        true-enable, false-disable) -->
        <EnableMemoryPool>true</EnableMemoryPool>
        <!-- Maximum memory size of all data frames, int type, unit: MB, minimum 100MB -->
        <MaxFrameBufferSize>2048</MaxFrameBufferSize>
        <!-- Frame buffer queue size in pipeline -->
        <PipelineFrameQueueSize>10</PipelineFrameQueueSize>
        <!-- Frame buffer queue size in internal processing unit -->
        <FrameProcessingBlockQueueSize>10</FrameProcessingBlockQueueSize>
    </Memory>

    <Misc>
        <GlobalTimestampFitterEnable>false</GlobalTimestampFitterEnable>
        <!-- Global timestamp fitter refresh interval, unit: milliseconds, default value: 1000,
        minimum value: 100, it is recommended not to be greater than 1000 -->
        <GlobalTimestampFitterInterval>1000</GlobalTimestampFitterInterval>
        <!-- Global timestamp fitter queue size, default value: 100, minimum value: 20 -->
        <GlobalTimestampFitterQueueSize>100</GlobalTimestampFitterQueueSize>
    </Misc>

    <!-- Default working configuration of pipeline -->
    <Pipeline>
        <Stream>
            <Depth>
                <!-- Use default stream profile, bool type, true： use default stream profile,
                false：use specified stream profile in the configuration file -->
                <UseDefaultStreamProfile>true</UseDefaultStreamProfile>
            </Depth>
            <Color>
                <UseDefaultStreamProfile>true</UseDefaultStreamProfile>
                <![CDATA[
                    <!--  Set UseDefaultStreamProfile to false to use the specified stream profile in the configuration file -->
                    <UseDefaultStreamProfile>false</UseDefaultStreamProfile>
                    <!-- Width of the resolution, int type -->
                    <Width>1920</Width>
                    <!-- Height of the resolution, int type -->
                    <Height>1080</Height>
                    <!-- Frame rate, int type -->
                    <FPS>30</FPS>
                    <!-- frame format -->
                    <Format>MJPG</Format>
                ]]>
            </Color>
            <!-- If you need to open other streams, you can refer to the above configuration to add -->
        </Stream>
        <!-- Image alignment, int type, optional values: 0 disable, 1 hardware d2c alignment, 2
        software d2c alignment -->
        <AlignMode>0</AlignMode>
        <!-- Frame synchronization output between different data streams, bool type, true-enable
        frame synchronization, false-disable frame synchronization -->
        <FrameSync>false</FrameSync>
    </Pipeline>

    <!-- Default configuration of data streams for different types of devices -->
    <Device>
        <!-- Whether to enumerate network devices, bool type, true-enable, false-disable (default) -->
        <EnumerateNetDevice>false</EnumerateNetDevice>

        <!-- UVC Backend select on Linux; optional values: Auto, V4L2, LibUVC; Auto is the default
        value -->
        <LinuxUVCBackend>LibUVC</LinuxUVCBackend>

        <!-- Frame metadata parsing path; optinal values: PayloadHeader, ExtensionHeader-->
        <FrameMetadataParsingPath>ExtensionHeader</FrameMetadataParsingPath>

        <FemtoMega>
            <Depth>
                <!-- The width of the default resolution, int type -->
                <Width>512</Width>
                <!-- The height of the default resolution, int type -->
                <Height>512</Height>
                <!-- Default frame rate, int type -->
                <FPS>30</FPS>
                <!-- Default frame format -->
                <Format>Y16</Format>
                <!-- Whether to retry after open stream failure, 0 means no retry, >=1 retry and how
                many times to retry -->
                <StreamFailedRetry>0</StreamFailedRetry>
                <!-- The maximum open-flow delay, unit: ms; if the first frame of data is not
                received after the open-flow exceeds this time, the open-flow will be considered as
                a failure -->
                <MaxStartStreamDelayMs>5000</MaxStartStreamDelayMs>
                <!-- Stream interruption restart, 0 does not restart, >=1 consecutive restart
                attempts -->
                <StreamInterruptedRestart>0</StreamInterruptedRestart>
                <!-- The maximum frame interval time, unit: ms; if no new data frame is received
                beyond the maximum interval time, the stream is considered to be interrupted -->
                <MaxFrameIntervalMs>5000</MaxFrameIntervalMs>
            </Depth>

            <Color>
                <!-- The width of the default resolution, int type -->
                <Width>1920</Width>
                <!-- The height of the default resolution, int type -->
                <Height>1080</Height>
                <!-- Default frame rate, int type -->
                <FPS>30</FPS>
                <!-- Default frame format -->
                <Format>YUYV</Format>
                <!-- Whether to retry after open stream failure, 0 means no retry, >=1 retry and how
                many times to retry -->
                <StreamFailedRetry>0</StreamFailedRetry>
                <!-- The maximum open-flow delay, unit: ms; if the first frame of data is not
                received after the open-flow exceeds this time, the open-flow will be considered as
                a failure -->
                <MaxStartStreamDelayMs>5000</MaxStartStreamDelayMs>
                <!-- Stream interruption restart, 0 does not restart, >=1 consecutive restart
                attempts -->
                <StreamInterruptedRestart>0</StreamInterruptedRestart>
                <!-- The maximum frame interval time, unit: ms; if no new data frame is received
                beyond the maximum interval time, the stream is considered to be interrupted -->
                <MaxFrameIntervalMs>5000</MaxFrameIntervalMs>
            </Color>

            <IR>
                <!-- The width of the default resolution, int type -->
                <Width>512</Width>
                <!-- The height of the default resolution, int type -->
                <Height>512</Height>
                <!-- Default frame rate, int type -->
                <FPS>30</FPS>
                <!-- Default frame format -->
                <Format>Y16</Format>
                <!-- Whether to retry after open stream failure, 0 means no retry, >=1 retry and how
                many times to retry -->
                <StreamFailedRetry>0</StreamFailedRetry>
                <!-- The maximum open-flow delay, unit: ms; if the first frame of data is not
                received after the open-flow exceeds this time, the open-flow will be considered as
                a failure -->
                <MaxStartStreamDelayMs>5000</MaxStartStreamDelayMs>
                <!-- Stream interruption restart, 0 does not restart, >=1 consecutive restart
                attempts -->
                <StreamInterruptedRestart>0</StreamInterruptedRestart>
                <!-- The maximum frame interval time, unit: ms; if no new data frame is received
                beyond the maximum interval time, the stream is considered to be interrupted -->
                <MaxFrameIntervalMs>5000</MaxFrameIntervalMs>
            </IR>
        </FemtoMega>
    </Device>
</Config>